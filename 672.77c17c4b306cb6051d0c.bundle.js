"use strict";(self.webpackChunkancientbeast=self.webpackChunkancientbeast||[]).push([[672],{67672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(16255),i=a(83355),n=a(67790),c=a(65482),s=a(68861);const u=function(e){e.abilities[22]=[{trigger:"onDamage",require:function(e){return!this.used&&!!this.testRequirements()&&(null==e&&(e={type:"target"}),!0)},activate:function(e){if(this.triggeredThisChain)return e;var t=this.getTargets(this.creature.adjacentHexes(1));return this.end(),this.triggeredThisChain=!0,this.areaDamage(this.creature,this.damages,[],t),e}},{trigger:"onQuery",distance:2,_targetTeam:i.S.Enemy,require:function(){return!!this.testRequirements()&&!!this.testDirection({team:this._targetTeam,distance:this.distance,sourceCreature:this.creature})},query:function(){var t=this,a=this.creature;e.grid.queryDirection({fnOnConfirm:function(){t.animation.apply(t,arguments)},flipped:a.player.flipped,team:this._targetTeam,id:this.creature.id,requireCreature:!0,x:a.x,y:a.y,distance:this.distance,sourceCreature:a})},activate:function(t){var a=this;a.end();var i=n.Z$(t).creature,c=new r.h(a.creature,a.damages,1,[],e);i.takeDamage(c)}},{trigger:"onQuery",_targetTeam:i.S.Enemy,require:function(){return this.testRequirements()},query:function(){var t=this,a=this.creature;a.queryMove({noPath:!0,isAbility:!0,range:e.grid.getFlyingRange(a.x,a.y,50,a.size,a.id),callback:function(){delete arguments[1],t.animation.apply(t,arguments)}})},activate:function(t){var a=this;a.end(),a.getTargets(a.creature.adjacentHexes(1)).forEach((function(t){if(t.target instanceof c.j){var r=t.target;if((0,i.H)(a.creature,r,t._targetTeam)){var n=new s.Q("Roasted",a.creature,r,"",{alterations:{burn:-1}},e);r.addEffect(n)}}})),a.creature.moveTo(t,{ignoreMovementPoint:!0,ignorePath:!0,animation:"teleport",callback:function(){e.activeCreature.queryMove()},callbackStepIn:function(){a.getTargets(a.creature.adjacentHexes(1)).forEach((function(t){if(t.target instanceof c.j){var r=t.target;if((0,i.H)(a.creature,r,t._targetTeam)){var n=new s.Q("Roasted",a.creature,r,"",{alterations:{burn:-1}},e);r.addEffect(n,"%CreatureName"+r.id+"% got roasted : -1 burn stat debuff")}}}))}})}},{trigger:"onQuery",require:function(){return this.testRequirements()},query:function(){var t=this,a=this.creature,r=a.hexagons[1].adjacentHex(3),i=r.indexOf(a.hexagons[0]),n=r.indexOf(a.hexagons[2]);r.splice(i,1),r.splice(n,1),e.grid.queryHexes({fnOnConfirm:function(){t.animation.apply(t,arguments)},fnOnSelect:function(t){t.adjacentHex(1).forEach((function(t){t.creature instanceof c.j?t.creature==a?a.adjacentHexes(1).forEach((function(t){t.creature instanceof c.j?t.creature==a?(a.adjacentHexes(1).overlayVisualState("creature selected weakDmg player"+t.creature.team),t.overlayVisualState("creature selected weakDmg player"+t.creature.team)):t.overlayVisualState("creature selected weakDmg player"+t.creature.team):t.overlayVisualState("creature selected weakDmg player"+e.activeCreature.team)})):t.overlayVisualState("creature selected weakDmg player"+t.creature.team):t.overlayVisualState("creature selected weakDmg player"+e.activeCreature.team)})),t.cleanOverlayVisualState(),t.creature instanceof c.j?t.overlayVisualState("creature selected player"+t.creature.team):t.overlayVisualState("creature selected player"+e.activeCreature.team)},id:this.creature.id,hexes:r,hideNonTarget:!0})},activate:function(t){var a=this;a.end();var i=t.adjacentHex(1),n=a.getTargets(i);t.creature instanceof c.j&&t.creature.takeDamage(new r.h(a.creature,a.damages1,1,[],e)),a.areaDamage(a.creature,a.damages2,[],n)}}]}},68861:(e,t,a)=>{a.d(t,{Q:()=>s});var r=a(15671),i=a(43144),n=a(19755),c=a(65482),s=function(){function e(t,a,i,c,s,u){(0,r.Z)(this,e),this.id=u.effectId++,this.game=u,this.name=t,this.owner=a,this.target=i,this.trigger=c,this.creationTurn=u.turn;var o=n.extend({requireFn:function(){return!0},effectFn:function(){},alterations:{},turnLifetime:0,deleteTrigger:"onStartOfRound",stackable:!0,noLog:!1,specialHint:void 0,deleteOnOwnerDeath:!1},s);n.extend(this,o),u.effects.push(this)}return(0,i.Z)(e,[{key:"animation",value:function(){this.activate.apply(this,arguments)}},{key:"activate",value:function(e){if(!this.requireFn(e))return!1;this.noLog||console.log("Effect "+this.name+" triggered"),e instanceof c.j&&e.addEffect(this),this.effectFn(this,e)}},{key:"deleteEffect",value:function(){var e=this.target.effects.indexOf(this);this.target.effects[e]?this.target.effects.splice(e,1):console.warn("Failed to find effect on target.",this);var t=this.game.effects.indexOf(this);this.game.effects[t]?this.game.effects.splice(t,1):console.warn("Failed to find effect on game.",this),this.target.updateAlteration()}}]),e}()}}]);