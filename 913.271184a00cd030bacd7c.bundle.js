"use strict";(self.webpackChunkancientbeast=self.webpackChunkancientbeast||[]).push([[913],{84913:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(16255),r=a(83355),s=a(23315),n=a(65482),f=a(68861);const c=function(e){e.abilities[9]=[{trigger:"onEndPhase",_effectName:"Frostified",_getOffenseBuff:function(){return this.isUpgraded()?5:0},require:function(){var e=this;return this.creature.effects.forEach((function(t){t.name===e._effectName&&(t.alterations.offense=e._getOffenseBuff())})),this.creature.remainingMove<this.creature.stats.movement?(this.message="The creature moved this round.",!1):this.testRequirements()},activate:function(){this.creature.addEffect(new f.Q(this._effectName,this.creature,this.creature,"",{alterations:{frost:5,defense:5,offense:this._getOffenseBuff()},stackable:!0},e))}},{trigger:"onQuery",_targetTeam:r.S.Enemy,require:function(){return!!this.testRequirements()&&!!this.atLeastOneTarget(this.creature.getHexMap(s.y7),{team:this._targetTeam})},query:function(){var t=this;e.grid.queryCreature({fnOnConfirm:function(){t.animation.apply(t,arguments)},team:this._targetTeam,id:this.creature.id,flipped:this.creature.flipped,hexes:this.creature.getHexMap(s.y7)})},activate:function(t){var a=this;a.end(),e.Phaser.camera.shake(.01,80,!0,e.Phaser.camera.SHAKE_HORIZONTAL,!0);var r=a.damages;this.isUpgraded()&&t.size<this.creature.size||(r.pierce=0);var s=new i.h(a.creature,r,1,[new f.Q(this.title,this.creature,this.target,"",{alterations:{frost:-1},stackable:!0},e)],e);t.takeDamage(s)}},{trigger:"onQuery",_targetTeam:r.S.Enemy,require:function(){return!!this.testRequirements()&&!!this.atLeastOneTarget(this.creature.getHexMap(s.y7),{team:this._targetTeam})},query:function(){var t=this;e.grid.queryCreature({fnOnConfirm:function(){t.animation.apply(t,arguments)},team:this._targetTeam,id:this.creature.id,flipped:this.creature.flipped,hexes:this.creature.getHexMap(s.y7)})},activate:function(t){var a=this;a.end(),e.Phaser.camera.shake(.02,222,!0,e.Phaser.camera.SHAKE_VERTICAL,!0);var r=[];this.isUpgraded()&&r.push(new f.Q(this.title,this.creature,t,"",{alterations:{defense:-10},stackable:!0,turnLifetime:1,deleteTrigger:"onStartPhase"},e));var s=new i.h(a.creature,a.damages,1,r,e),n=t.takeDamage(s);n.kill||""!==n.damageObj.status||t.delay()}},{trigger:"onQuery",directions:[1,1,1,1,1,1],_targetTeam:r.S.Both,_getDistance:function(){return this.isUpgraded()?0:6},require:function(){if(!this.testRequirements())return!1;var e=this.creature,t=e.player.flipped?e.x-e.size+1:e.x;return!!this.testDirection({team:this._targetTeam,x:t,directions:this.directions,distance:this._getDistance(),stopOnCreature:!1})},query:function(){var t=this,a=this.creature,i=a.player.flipped?a.x-a.size+1:a.x;e.grid.queryDirection({fnOnConfirm:function(){t.animation.apply(t,arguments)},team:this._targetTeam,id:a.id,requireCreature:!0,x:i,y:a.y,directions:this.directions,distance:this._getDistance(),stopOnCreature:!1})},activate:function(t){var a=this;a.end();for(var r=0;r<t.length;r++)if(t[r].creature instanceof n.j){var s=t[r].creature,f={pierce:a.damages.pierce,frost:6-r};f.frost<0&&(f.frost=0);var c=new i.h(a.creature,f,1,[],e),h=s.takeDamage(c);if(e.Phaser.camera.shake(.02,80,!0,e.Phaser.camera.SHAKE_HORIZONTAL,!0),"Shielded"===h.damageObj.status||h.damages&&h.damages.total<=0)break}}}]}},68861:(e,t,a)=>{a.d(t,{Q:()=>f});var i=a(15671),r=a(43144),s=a(19755),n=a(65482),f=function(){function e(t,a,r,n,f,c){(0,i.Z)(this,e),this.id=c.effectId++,this.game=c,this.name=t,this.owner=a,this.target=r,this.trigger=n,this.creationTurn=c.turn;var h=s.extend({requireFn:function(){return!0},effectFn:function(){},alterations:{},turnLifetime:0,deleteTrigger:"onStartOfRound",stackable:!0,noLog:!1,specialHint:void 0,deleteOnOwnerDeath:!1},f);s.extend(this,h),c.effects.push(this)}return(0,r.Z)(e,[{key:"animation",value:function(){this.activate.apply(this,arguments)}},{key:"activate",value:function(e){if(!this.requireFn(e))return!1;this.noLog||console.log("Effect "+this.name+" triggered"),e instanceof n.j&&e.addEffect(this),this.effectFn(this,e)}},{key:"deleteEffect",value:function(){var e=this.target.effects.indexOf(this);this.target.effects[e]?this.target.effects.splice(e,1):console.warn("Failed to find effect on target.",this);var t=this.game.effects.indexOf(this);this.game.effects[t]?this.game.effects.splice(t,1):console.warn("Failed to find effect on game.",this),this.target.updateAlteration()}}]),e}()}}]);